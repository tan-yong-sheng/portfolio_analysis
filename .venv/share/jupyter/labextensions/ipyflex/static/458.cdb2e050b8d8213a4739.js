(self.webpackChunkipyflex=self.webpackChunkipyflex||[]).push([[458],{1348:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateModelEditable=t.defaultModelFactoty=void 0,t.defaultModelFactoty=function(e,t=!0){const{borderLeft:n,borderRight:o,enableSection:i=!0}=e,a=[];n&&a.push({type:"border",location:"left",size:250,children:[]}),o&&a.push({type:"border",location:"right",size:250,children:[]});const r={tabEnableRename:t,tabEnableClose:t,tabSetEnableClose:t,tabEnableDrag:t,tabSetEnableDrag:t},l={global:r,layout:{type:"row",id:"#1",children:[{type:"tabset",id:"#2",children:[],active:!0}]},borders:a};return{defaultOuterModel:{global:Object.assign(Object.assign({},r),{tabSetTabLocation:"bottom",tabSetEnableTabStrip:!0}),layout:{type:"row",id:"#1",children:[{type:"tabset",id:"#2",enableTabStrip:i,children:[{type:"tab",id:"#3",name:"New section ",component:"sub",config:{model:{global:r,layout:{type:"row",id:"#1",children:[{type:"tabset",id:"#3",children:[],active:!0}]},borders:a}}}],active:!0}]},borders:[]},defaultModel:l}},t.updateModelEditable=function(e,t,n){const o={tabEnableRename:t,tabEnableClose:t,tabSetEnableClose:t,tabSetEnableMaximize:t,tabEnableDrag:t,tabSetEnableDrag:t};let i;i=t?8:0,"global"in e&&(e.global=Object.assign(Object.assign({},o),{tabSetTabLocation:"bottom"}));const a=e.layout.children;for(const e of a){const t=e.children;e.enableTabStrip=n;for(const e of t)e.config.model.global=Object.assign(Object.assign(Object.assign({},o),e.config.model.global),{splitterSize:i})}return e}},5489:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dialogBody=t.factoryDialog=void 0;const o=n(1395),i=n(9169),a=n(3992);class r extends a.Widget{constructor(e){super({node:e})}getValue(){return this.node.value}}class l extends a.Widget{constructor(e){super(),this._paramInputs={},Object.keys(e).forEach((t=>{const n=o.uuid(),i=document.createElement("input");i.required=!0,this._paramInputs[t]=i,i.id=n,i.classList.add("ipyflex-float-input");const a=document.createElement("label");a.htmlFor=n,e[t].annotation?a.innerText=`${t} : ${e[t].annotation}`:a.innerText=`${t}`,a.classList.add("ipyflex-float-label");const r=document.createElement("div");r.classList.add("ipyflex-input-label-group"),r.appendChild(i),r.appendChild(a),this.node.appendChild(r)}))}getValue(){const e={};for(const[t,n]of Object.entries(this._paramInputs))e[t]=n.value;return e}}t.factoryDialog=function(e,t){const n=i.Dialog.okButton({label:"Create"}),o=i.Dialog.cancelButton({label:"Cancel"});return{title:e,body:new l(t),buttons:[o,n]}},t.dialogBody=function(e,t=null,n="Save"){const o=i.Dialog.okButton({label:n}),a=i.Dialog.cancelButton({label:"Cancel"}),l=document.createElement("input");return t&&(l.value=t),{title:e,body:new r(l),buttons:[a,o]}}},3529:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}s((o=o.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(6271)),d=l(n(3915)),c=n(4865),u={save:"Save template",import:"Import template from disk",export:"Export template to disk"};t.default=function(e){const t=[],n=["save","export","import"],o=s.createRef();(e.buttons||[]).forEach((e=>{n.includes(e)&&!t.includes(e)&&t.push(e)}));const i=new Map;return i.set("save",e.saveTemplate),i.set("export",e.exportTemplate),i.set("import",(()=>r(this,void 0,void 0,(function*(){o.current.click()})))),s.useEffect((()=>{o.current.onchange=t=>{const n=o.current.files;if(n.length>0){const o=new FileReader;o.onload=()=>{e.importTemplate(o.result),t.target.value=null},o.readAsText(n[0])}}})),s.createElement("div",{className:"ipyflex-header",style:Object.assign({},e.style||{})},s.createElement("div",null,e.title||""),s.createElement("div",{style:{display:"flex"}},t.map((t=>{var n;return s.createElement(d.default,{key:t,color:"primary",component:"span",title:u[t],onClick:i.get(t)},s.createElement(c.IconFactory,{icon:t,color:null===(n=e.style)||void 0===n?void 0:n.color}))}))),s.createElement("input",{ref:o,type:"file",accept:".json",style:{display:"none"}}))}},4865:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconFactory=void 0;const i=o(n(6271));t.IconFactory=function(e){let t;switch(e.icon){case"save":t=i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 24 24",width:"20",fill:"none"},i.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),i.default.createElement("path",{fill:e.color||"white",d:"M17.59 3.59c-.38-.38-.89-.59-1.42-.59H5c-1.11 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7.83c0-.53-.21-1.04-.59-1.41l-2.82-2.83zM12 19c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm1-10H7c-1.1 0-2-.9-2-2s.9-2 2-2h6c1.1 0 2 .9 2 2s-.9 2-2 2z"}));break;case"import":t=i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"none"},i.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),i.default.createElement("path",{fill:e.color||"white",d:"M5 5c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1zm2.41 9H9v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-5h1.59c.89 0 1.34-1.08.71-1.71L12.71 7.7c-.39-.39-1.02-.39-1.41 0l-4.59 4.59c-.63.63-.19 1.71.7 1.71z"}));break;case"export":t=i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"none",style:{transform:"rotate(180deg)"}},i.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),i.default.createElement("path",{fill:e.color||"white",d:"M5 5c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1zm2.41 9H9v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-5h1.59c.89 0 1.34-1.08.71-1.71L12.71 7.7c-.39-.39-1.02-.39-1.41 0l-4.59 4.59c-.63.63-.19 1.71.7 1.71z"}));break;default:t=i.default.createElement("div",null)}return t}},7007:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}s((o=o.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetMenu=void 0;const s=a(n(6271)),d=l(n(1210)),c=l(n(960)),u=n(5489),p=n(9169),h=n(6988),m="Create new";class b extends s.Component{constructor(e){super(e),this.on_placeholder_change=(e,t,n)=>{this.setState((e=>Object.assign(Object.assign({},e),{placeholderList:t})))},this.on_msg=(e,t)=>{const{action:n,payload:o}=e;if(n===h.MESSAGE_ACTION.UPDATE_CHILDREN){{const e=o.name;this.state.widgetList.includes(e)||this.state.placeholderList.includes(e)||this.setState((t=>Object.assign(Object.assign({},t),{widgetList:[...t.widgetList,e]})))}return null}},this.handleClick=e=>{const t=e.currentTarget;this.setState((e=>Object.assign(Object.assign({},e),{anchorEl:t})))},this.handleClose=()=>{this.setState((e=>Object.assign(Object.assign({},e),{anchorEl:null})))},this.state={anchorEl:null,widgetList:[...e.widgetList,m],placeholderList:[...e.placeholderList]}}componentDidMount(){this.props.model.listenTo(this.props.model,"msg:custom",this.on_msg),this.props.model.listenTo(this.props.model,"change:placeholder_widget",this.on_placeholder_change)}render(){const e=`add_widget_menu_${this.props.tabsetId}@${this.props.nodeId}`,t=[];for(const e of[...this.state.widgetList,...this.state.placeholderList])e!==m&&t.push(s.default.createElement(c.default,{key:`${e}}@${this.props.tabsetId}@${this.props.nodeId}`,onClick:()=>{this.props.addTabToTabset(e),this.handleClose()}},e));const n=[];for(const[e,t]of Object.entries(this.props.factoryDict))n.push(s.default.createElement(c.default,{key:`${e}}@${this.props.tabsetId}@${this.props.nodeId}`,onClick:()=>r(this,void 0,void 0,(function*(){if(this.handleClose(),Object.keys(t).length>0){const n=yield p.showDialog(u.factoryDialog("Factory parameters",t));if("Create"!==n.button.label||!n.value)return;this.props.addTabToTabset(e,n.value)}else this.props.addTabToTabset(e)}))},e));const o=s.default.createElement(c.default,{key:`$#{this.props.tabsetId}@${this.props.nodeId}`,onClick:()=>r(this,void 0,void 0,(function*(){let e;this.handleClose();const t=yield p.showDialog(u.dialogBody("Widget name",""));"Save"===t.button.label&&t.value&&(e=t.value,this.state.widgetList.includes(e)?alert("A widget with the same name is already registered!"):e in this.props.factoryDict?alert("A factory with the same name is already registered!"):(this.props.send_msg({action:h.MESSAGE_ACTION.ADD_WIDGET,payload:{name:e}}),this.props.addTabToTabset(e)))}))},m);return s.default.createElement("div",{key:e},s.default.createElement("button",{className:h.JUPYTER_BUTTON_CLASS,style:{height:"27px",width:"40px"},onClick:this.handleClick},s.default.createElement("i",{className:"fas fa-plus"})),s.default.createElement(d.default,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},t,s.default.createElement("hr",{className:"ipyflex-divider"}),n,Object.keys(this.props.factoryDict).length>0?s.default.createElement("hr",{className:"ipyflex-divider"}):s.default.createElement("div",null),o))}}t.WidgetMenu=b},6029:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}s((o=o.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FlexWidget=void 0,n(2409);const s=a(n(9276)),d=a(n(6271)),c=n(6988),u=n(7007),p=n(4066),h=l(n(3529)),m=n(1348),b=n(5489),f=n(9169),g=n(3992),_=n(6057),y=n(1395);class v extends d.Component{constructor(e){super(e),this.on_placeholder_change=(e,t,n)=>{this.setState((e=>Object.assign(Object.assign({},e),{placeholderList:t})))},this.on_msg=(e,t)=>{const{action:n,payload:o}=e;switch(n){case c.MESSAGE_ACTION.UPDATE_CHILDREN:{const e=o.name;this.state.widgetList.includes(e)||this.state.placeholderList.includes(e)||this.setState((t=>Object.assign(Object.assign({},t),{widgetList:[...t.widgetList,e]})));break}case c.MESSAGE_ACTION.SAVE_TEMPLATE_FROM_PYTHON:{const e=o.name;if(o.uuid===this.uuid&&e){if(!e)return void alert("Invalid file name!");this.props.send_msg({action:c.MESSAGE_ACTION.SAVE_TEMPLATE,payload:{file_name:e,json_data:this.state.model.toJson()}})}break}case c.MESSAGE_ACTION.LOAD_TEMPLATE_FROM_PYTHON:{const e=o.template;this.setState((t=>Object.assign(Object.assign({},t),{model:s.Model.fromJson(e)})));break}}},this.factory=e=>{const t=e.getComponent(),n=e.getConfig(),o=e.getId(),i=e.getName();switch(t){case"Widget":{const t=".ipyflex-widget-box",o=this.individualContextMenuFactory(e.getParent().getId(),e.getParent().getModel(),t);return d.default.createElement(p.WidgetWrapper,{model:this.model,widgetName:i,factoryDict:this.state.factoryDict,send_msg:this.props.send_msg,extraData:n.extraData,contextMenu:o})}case"sub":return this.generateSection(e,o)}return null},this.generateSection=(e,t)=>{let n,o=e.getExtraData().model;return this.innerlayoutRef[t]=d.default.createRef(),n=e.getConfig()&&e.getConfig().model?e.getConfig().model:this.state.defaultModel,o||(e.getExtraData().model=s.Model.fromJson(n),o=e.getExtraData().model,e.setEventListener("save",(n=>{this.state.model.doAction(s.Actions.updateNodeAttributes(t,{config:{model:e.getExtraData().model.toJson()}}))}))),d.default.createElement(s.Layout,{ref:this.innerlayoutRef[t],classNameMapper:e=>("flexlayout__tabset-selected"===e?e="inner__flexlayout__tabset-selected flexlayout__tabset-selected":"flexlayout__tabset"===e?e="inner__flexlayout__tabset flexlayout__tabset":"flexlayout__tab"===e&&(e="inner__flexlayout__tab flexlayout__tab"),e),model:o,factory:this.factory,onRenderTabSet:(e,n)=>{this.onRenderTabSet(e,n,t)},onAction:e=>this.innerOnAction(t,e),onContextMenu:(e,t)=>{t.shiftKey||(t.preventDefault(),t.stopPropagation(),this.innerContextMenuCache.get(e.getId()).open(t.nativeEvent))}})},this.onAction=e=>("FlexLayout_MoveNode"!==e.type&&"FlexLayout_AdjustSplit"!==e.type&&"FlexLayout_DeleteTab"!==e.type&&"FlexLayout_MaximizeToggle"!==e.type&&"FlexLayout_SelectTab"!==e.type||setTimeout((()=>{window.dispatchEvent(new Event("resize"))}),100),e),this.innerOnAction=(e,t)=>{if("FlexLayout_DeleteTabset"===t.type){const e=t.data.node;this.innerContextMenuCache.has(e)&&this.innerContextMenuCache.delete(e)}return"FlexLayout_MoveNode"!==t.type&&"FlexLayout_AdjustSplit"!==t.type&&"FlexLayout_DeleteTab"!==t.type&&"FlexLayout_DeleteTabset"!==t.type&&"FlexLayout_MaximizeToggle"!==t.type&&"FlexLayout_SelectTab"!==t.type||setTimeout((()=>{window.dispatchEvent(new Event("resize"))}),100),t},this.onRenderTabSet=(e,t,n)=>{const o=e.getId();if(!this.innerContextMenuCache.has(o)){const t=this.individualContextMenuFactory(o,e.getModel(),".flexlayout__tabset_tabbar_inner_top");this.innerContextMenuCache.set(o,t)}this.state.editable&&t.buttons.push(d.default.createElement(u.WidgetMenu,{widgetList:this.state.widgetList,placeholderList:this.state.placeholderList,factoryDict:this.state.factoryDict,nodeId:n,tabsetId:o,addTabToTabset:(e,t)=>{this.innerlayoutRef[n].current.addTabToTabSet(o,{component:"Widget",name:e,config:{layoutID:n,extraData:t}})},model:this.props.model,send_msg:this.props.send_msg}))},this.onAddRow=()=>{this.layoutRef.current.addTabToActiveTabSet({component:"sub",name:"New section"})},this.onRenderOuterTabSet=(e,t)=>{this.state.editable&&t.stickyButtons.push(d.default.createElement("button",{className:c.JUPYTER_BUTTON_CLASS,onClick:this.onAddRow,style:{width:"25px",height:"25px",paddingLeft:"unset",paddingRight:"unset",margin:0}},d.default.createElement("i",{className:"fas fa-plus"})))},this.saveTemplate=()=>r(this,void 0,void 0,(function*(){const e=this.props.model.get("template"),t=yield f.showDialog(b.dialogBody("Save template",e));"Save"===t.button.label&&(t.value?this.props.send_msg({action:c.MESSAGE_ACTION.SAVE_TEMPLATE,payload:{file_name:t.value,json_data:this.state.model.toJson()}}):alert("Invalid file name!"))})),this.exportTemplate=()=>r(this,void 0,void 0,(function*(){const e=yield f.showDialog(b.dialogBody("Export template",null,"Export"));if("Export"===e.button.label){let t=e.value;if(t){t=t.replace(".json","")+".json";const e=this.state.model.toString();c.downloadString(e,"application/json",t)}else alert("Invalid file name!")}})),this.importTemplate=e=>{const t=JSON.parse(e);this.setState((e=>Object.assign(Object.assign({},e),{model:s.Model.fromJson(t)})))},this.toggleLock=()=>{this.setState((e=>Object.assign(Object.assign({},e),{editable:!e.editable})))},this.individualContextMenuFactory=(e,t,n)=>{const o=new _.CommandRegistry;o.addCommand("hide-tab-bar",{execute:()=>{t.doAction(s.Actions.updateNodeAttributes(e,{enableTabStrip:!1}))},label:"Hide Tab Bar",isEnabled:()=>!0}),o.addCommand("show-tab-bar",{execute:()=>{t.doAction(s.Actions.updateNodeAttributes(e,{enableTabStrip:!0}))},label:"Show Tab Bar",isEnabled:()=>!0});const i=new g.ContextMenu({commands:o});return i.addItem({command:"show-tab-bar",selector:this.props.editable?n:"null",rank:0}),i.addItem({command:"hide-tab-bar",selector:this.props.editable?n:"null",rank:1}),i},this.layoutRef=d.default.createRef(),this.innerlayoutRef={},this.layoutConfig=e.model.get("layout_config");const{defaultOuterModel:t,defaultModel:n}=m.defaultModelFactoty(this.layoutConfig,e.editable);let o,i=e.model.get("template_json");i=i&&0!==Object.keys(i).length?m.updateModelEditable(i,e.editable,this.layoutConfig.enableSection):t;try{o=s.Model.fromJson(i)}catch(e){console.error(e),console.warn("Failed to build model with saved templated, using default template."),o=s.Model.fromJson(t)}this.state={model:o,defaultOuterModel:t,defaultModel:n,widgetList:Object.keys(this.props.model.get("children")),placeholderList:[],factoryDict:this.props.model.get("widget_factories"),editable:e.editable,header:e.header},this.model=e.model,this.innerContextMenuCache=new Map}componentDidMount(){this.props.model.listenTo(this.props.model,"msg:custom",this.on_msg),this.props.model.listenTo(this.props.model,"change:placeholder_widget",this.on_placeholder_change),this.uuid=y.uuid(),this.props.send_msg({action:c.MESSAGE_ACTION.REGISTER_FRONTEND,payload:{uuid:this.uuid}})}render(){let e=0;this.state.header&&(e=35);const t=`calc(100% - 5px - ${e}px)`;let n={};return this.state.header&&"boolean"!=typeof this.state.header&&(n=Object.assign({},this.state.header),n.buttons||(n.buttons=[]),!0===n.buttons&&(n.buttons=["save","export","import"]),this.props.editable||(n.buttons=n.buttons.filter((e=>"save"!==e)))),d.default.createElement("div",{style:Object.assign({height:"510px"},this.props.style)},this.state.header?d.default.createElement(h.default,Object.assign({},n,{saveTemplate:this.saveTemplate.bind(this),exportTemplate:this.exportTemplate.bind(this),importTemplate:this.importTemplate.bind(this)})):d.default.createElement("div",null),d.default.createElement("div",{style:{width:"100%",height:t,position:"relative"}},d.default.createElement(s.Layout,{ref:this.layoutRef,model:this.state.model,factory:this.factory,supportsPopout:!0,classNameMapper:e=>("flexlayout__layout"===e?e="ipyflex flexlayout__layout":"flexlayout__tabset-selected"===e&&(e="outer__flexlayout__tabset-selected flexlayout__tabset-selected "),e),onAction:this.onAction,onRenderTabSet:(e,t)=>{this.onRenderOuterTabSet(e,t)}})))}}t.FlexWidget=v,t.default=v},6988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.downloadString=t.MESSAGE_ACTION=t.JUPYTER_BUTTON_CLASS=void 0,t.JUPYTER_BUTTON_CLASS="lm-Widget p-Widget jupyter-widgets jupyter-button widget-button",t.MESSAGE_ACTION={SAVE_TEMPLATE:"save_template",UPDATE_CHILDREN:"update_children",REQUEST_FACTORY:"request_factory",RENDER_FACTORY:"render_factory",RENDER_ERROR:"render_error",ADD_WIDGET:"add_widget",SAVE_TEMPLATE_FROM_PYTHON:"save_template_from_python",LOAD_TEMPLATE_FROM_PYTHON:"load_template_from_python",REGISTER_FRONTEND:"register_frontend"},t.downloadString=function(e,t,n){const o=new Blob([e],{type:t}),i=document.createElement("a");i.download=n,i.href=URL.createObjectURL(o),i.dataset.downloadurl=[t,i.download,i.href].join(":"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout((()=>{URL.revokeObjectURL(i.href)}),2e3)}},8657:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_NAME=t.MODULE_VERSION=void 0;const o=n(4147);t.MODULE_VERSION=o.version,t.MODULE_NAME=o.name},1367:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FlexLayoutView=t.FlexLayoutModel=void 0;const i=n(1395),a=n(3992),r=o(n(6271)),l=n(9169),s=o(n(6029)),d=n(8657),c=n(2720);n(7204),n(1333),n(3749);class u extends i.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:u.model_name,_model_module:u.model_module,_model_module_version:u.model_module_version,_view_name:u.view_name,_view_module:u.view_module,_view_module_version:u.view_module_version,children:[],widget_factories:{},placeholder_widget:[],layout_config:{borderLeft:!1,borderRight:!1},style:{},template_json:null,editable:!0,header:!1})}initialize(e,t){super.initialize(e,t),this.widget_manager.create_view(this,{})}}t.FlexLayoutModel=u,u.serializers=Object.assign(Object.assign({},i.DOMWidgetModel.serializers),{children:{deserialize:i.unpack_models}}),u.model_name="FlexLayoutModel",u.model_module=d.MODULE_NAME,u.model_module_version=d.MODULE_VERSION,u.view_name="FlexLayoutView",u.view_module=d.MODULE_NAME,u.view_module_version=d.MODULE_VERSION;class p extends l.ReactWidget{constructor(e,t,n={},o=!0,i=!1){super(),this.onResize=e=>{window.dispatchEvent(new Event("resize"))},this._send_msg=e,this._model=t,this._style=n,this._editable=o,this._header=i}render(){return r.default.createElement(s.default,{style:this._style,send_msg:this._send_msg,model:this._model,editable:this._editable,header:this._header})}}class h extends i.DOMWidgetView{setStyle(){const e=this.model.get("style");if(e)for(const[t,n]of Object.entries(e)){const e=t.split(/(?=[A-Z])/).map((e=>e.toLowerCase())).join("-");this.el.style[e]=n}}render(){super.render(),this.setStyle(),this.el.classList.add("custom-widget");const e=this.model.get("style"),t=this.model.get("editable"),n=this.model.get("header"),o=new p(this.send.bind(this),this.model,e,t,n);c.MessageLoop.sendMessage(o,a.Widget.Msg.BeforeAttach),this.el.insertBefore(o.node,null),c.MessageLoop.sendMessage(o,a.Widget.Msg.AfterAttach)}}t.FlexLayoutView=h},4066:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}s((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetWrapper=void 0;const l=a(n(6271)),s=n(2720),d=n(3992),c=n(6988),u=n(1395);class p extends l.Component{constructor(e){super(e),this.on_msg=(e,t)=>{const{action:n,payload:o}=e;switch(n){case c.MESSAGE_ACTION.RENDER_FACTORY:{const{model_id:e,uuid:t}=o;t===this.state.uuid&&u.unpack_models(e,this.model.widget_manager).then((e=>{this.myRef.current.firstChild.remove(),this._render_widget(e)}));break}case c.MESSAGE_ACTION.RENDER_ERROR:{const{error_msg:e,uuid:t}=o;t===this.state.uuid&&(this.myRef.current.firstChild.textContent=e);break}}},this.on_children_change=(e,t,n)=>{this.placeholder&&this.widgetName in t&&t[this.widgetName]&&(this.myRef.current.firstChild.remove(),this._render_widget(t[this.widgetName]),this.placeholder=!1)},this._render_widget=e=>{this.model.widget_manager.create_view(e,{}).then((e=>{s.MessageLoop.sendMessage(e.luminoWidget,d.Widget.Msg.BeforeAttach),this.myRef.current.insertBefore(e.luminoWidget.node,null),e.displayed.then((()=>r(this,void 0,void 0,(function*(){yield new Promise((e=>setTimeout(e,100))),window.dispatchEvent(new Event("resize"))})))),s.MessageLoop.sendMessage(e.luminoWidget,d.Widget.Msg.AfterAttach)}))},this.model=e.model,this.model.listenTo(this.model,"change:children",this.on_children_change),this.model.listenTo(this.model,"msg:custom",this.on_msg),this.widgetName=e.widgetName,this.state={uuid:u.uuid()},this.myRef=l.default.createRef()}componentDidMount(){const e=this.model.get("children")[this.widgetName];if(e)this._render_widget(e),this.placeholder=!1;else{const e=document.createElement("p");if(e.style.textAlign="center",e.style.padding="20px",this.widgetName in this.props.factoryDict){e.innerText=`Creating widget from ${this.widgetName} factory, please wait.`,this.myRef.current.insertBefore(e,null);const t={factory_name:this.widgetName,uuid:this.state.uuid};this.props.extraData&&(t.extraData=this.props.extraData),this.props.send_msg({action:c.MESSAGE_ACTION.REQUEST_FACTORY,payload:t})}else e.innerText=`Placeholder for ${this.widgetName} widget.`,this.myRef.current.insertBefore(e,null),this.placeholder=!0}}render(){return l.default.createElement("div",{className:"ipyflex-widget-box",ref:this.myRef,onContextMenu:e=>{e.shiftKey||(e.preventDefault(),e.stopPropagation(),this.props.contextMenu.open(e.nativeEvent))}})}}t.WidgetWrapper=p},7811:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/*-----------------------------------------------------------------------------\n| Variables\n|----------------------------------------------------------------------------*/\n\n:root {\n    --jp-private-menubar-height: 28px;\n    --jp-private-menu-item-height: 24px;\n  }\n  \n  /*-----------------------------------------------------------------------------\n  | MenuBar\n  |----------------------------------------------------------------------------*/\n  \n  .lm-MenuBar {\n    background: var(--jp-layout-color1);\n    color: var(--jp-ui-font-color1);\n    font-size: var(--jp-ui-font-size1);\n  }\n  \n  .lm-MenuBar:hover {\n    overflow-x: auto;\n  }\n  \n  .lm-MenuBar-menu {\n    transform: translateY(calc(-2 * var(--jp-border-width)));\n  }\n  \n  .lm-MenuBar-item {\n    padding: 0px 8px;\n    border-left: var(--jp-border-width) solid transparent;\n    border-right: var(--jp-border-width) solid transparent;\n    border-top: var(--jp-border-width) solid transparent;\n    line-height: calc(var(--jp-private-menubar-height) - var(--jp-border-width));\n  }\n  \n  .lm-MenuBar-item.lm-mod-active {\n    background: var(--jp-layout-color2);\n  }\n  \n  .lm-MenuBar.lm-mod-active .lm-MenuBar-item.lm-mod-active {\n    z-index: 10001;\n    background: var(--jp-layout-color0);\n    border-left: var(--jp-border-width) solid var(--jp-border-color1);\n    border-right: var(--jp-border-width) solid var(--jp-border-color1);\n    box-shadow: var(--jp-elevation-z6);\n  }\n  \n  .jp-LabShell[data-shell-mode='single-document']\n    .lm-MenuBar.lm-mod-active\n    .lm-MenuBar-item.lm-mod-active {\n    border-top: var(--jp-border-width) solid var(--jp-border-color1);\n  }\n  \n  .lm-MenuBar-item.lm-mod-disabled {\n    color: var(--jp-ui-font-color3);\n  }\n  \n  .lm-MenuBar-item.lm-type-separator {\n    margin: 2px;\n    padding: 0;\n    border: none;\n    border-left: var(--jp-border-width) solid var(--jp-border-color2);\n  }\n  \n  .lm-MenuBar-itemMnemonic {\n    text-decoration: underline;\n  }\n  \n  /*-----------------------------------------------------------------------------\n  | Menu\n  |----------------------------------------------------------------------------*/\n  \n  .lm-Menu {\n    z-index: 10000;\n    padding: 4px 0px;\n    background: var(--jp-layout-color0);\n    color: var(--jp-ui-font-color1);\n    border: var(--jp-border-width) solid var(--jp-border-color1);\n    font-size: var(--jp-ui-font-size1);\n    box-shadow: var(--jp-elevation-z6);\n  }\n  \n  .lm-Menu-item {\n    min-height: var(--jp-private-menu-item-height);\n    max-height: var(--jp-private-menu-item-height);\n    padding: 0px;\n    line-height: var(--jp-private-menu-item-height);\n  }\n  \n  .lm-Menu-item.lm-mod-active {\n    background: var(--jp-layout-color2);\n  }\n  \n  .lm-Menu-item.lm-mod-disabled {\n    color: var(--jp-ui-font-color3);\n  }\n  \n  .lm-Menu-itemIcon {\n    width: 21px;\n    padding: 0px 2px 0px 4px;\n    margin-top: -2px;\n  }\n  \n  .lm-Menu-itemLabel {\n    padding: 0px 32px 0px 2px;\n  }\n  \n  .lm-Menu-itemMnemonic {\n    text-decoration: underline;\n  }\n  \n  .lm-Menu-itemShortcut {\n    padding: 0px;\n  }\n  \n  .lm-Menu-itemSubmenuIcon {\n    width: 18px;\n    padding: 0px 4px 0px 0px;\n  }\n  \n  .lm-Menu-item[data-type='separator'] > div {\n    padding: 0;\n    height: 9px;\n  }\n  \n  .lm-Menu-item[data-type='separator'] > div::after {\n    content: '';\n    display: block;\n    position: relative;\n    top: 4px;\n    border-top: var(--jp-border-width) solid var(--jp-layout-color2);\n  }\n  \n  /* gray out icon/caret for disable menu items */\n  .lm-Menu-item.lm-mod-disabled > .lm-Menu-itemIcon,\n  .lm-Menu-item[data-type='submenu'].lm-mod-disabled > .lm-Menu-itemSubmenuIcon {\n    opacity: 0.4;\n  }\n  ",""]),e.exports=t},719:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"/*-----------------------------------------------------------------------------\n| Variables\n|----------------------------------------------------------------------------*/\n\n:root {\n    --jp-flat-button-height: 24px;\n    --jp-flat-button-padding: 8px 12px;\n  }\n  \n  /*-----------------------------------------------------------------------------\n  | Copyright (c) Jupyter Development Team.\n  | Distributed under the terms of the Modified BSD License.\n  |----------------------------------------------------------------------------*/\n  \n  button {\n    border-radius: var(--jp-border-radius);\n  }\n  \n  button:focus-visible {\n    border: 1px solid var(--md-blue-900);\n  }\n  \n  button.jp-mod-styled.jp-mod-accept {\n    background: var(--md-blue-700);\n    border: 0;\n    color: white;\n  }\n  \n  button.jp-mod-styled.jp-mod-accept:hover {\n    background: var(--md-blue-800);\n  }\n  \n  button.jp-mod-styled.jp-mod-accept:active {\n    background: var(--md-blue-900);\n  }\n  \n  button.jp-mod-styled.jp-mod-accept:focus-visible {\n    border: 1px solid var(--md-blue-900);\n  }\n  \n  button.jp-mod-styled.jp-mod-reject {\n    background: var(--md-grey-600);\n    border: 0;\n    color: white;\n  }\n  \n  button.jp-mod-styled.jp-mod-reject:hover {\n    background: var(--md-grey-700);\n  }\n  \n  button.jp-mod-styled.jp-mod-reject:active {\n    background: var(--md-grey-800);\n  }\n  \n  button.jp-mod-styled.jp-mod-reject:focus-visible {\n    border: 1px solid var(--md-grey-800);\n  }\n  \n  button.jp-mod-styled.jp-mod-warn {\n    background: var(--md-red-700);\n    border: 0;\n    color: white;\n  }\n  \n  button.jp-mod-styled.jp-mod-warn:hover {\n    background: var(--md-red-800);\n  }\n  \n  button.jp-mod-styled.jp-mod-warn:active {\n    background: var(--md-red-900);\n  }\n  \n  button.jp-mod-styled.jp-mod-warn:focus-visible {\n    border: 1px solid var(--md-red-900);\n  }\n  \n  .jp-Button-flat {\n    text-decoration: none;\n    padding: var(--jp-flat-button-padding);\n    color: var(--md-grey-600);\n    font-weight: 500;\n    background-color: transparent;\n    height: var(--jp-private-running-shutdown-button-height);\n    line-height: var(--jp-private-running-shutdown-button-height);\n    transition: background-color 0.1s ease;\n    border-radius: 2px;\n  }\n  \n  .jp-Button-flat:hover {\n    background-color: var(--md-grey-700);\n  }\n  \n  .jp-Button-flat:focus {\n    border: none;\n    box-shadow: none;\n    background-color: var(--md-grey-800);\n  }\n  ",""]),e.exports=t},3889:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".custom-widget {\n  height: 100%;\n  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);\n}\n.custom-widget > .p-Widget {\n  height: 100%;\n}\n\n.ipyflex-widget-box {\n  height: calc(100% - 12px);\n  width: calc(100% - 10px);\n  margin: 0px 5px 10px 5px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n  border-width: 0px 0px 0px 0px;\n  border-style: solid;\n  border-color: #e2e2e2;\n  border-radius: 0px;\n  outline-width: 0px;\n  outline-style: solid;\n  outline-color: #e2e2e2;\n  overflow: auto;\n}\n\n.flexlayout__layout {\n  left: unset !important;\n  top: unset !important;\n  right: unset !important;\n  bottom: unset !important;\n  position: unset !important;\n  overflow: unset !important;\n  height: 100%;\n  background: var(--jp-layout-color0);\n}\n\n.flexlayout__tabset-selected {\n  background-color: var(--jp-layout-color3);\n  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);\n}\n\n.flexlayout__tab_button--selected {\n  background-color: var(--jp-layout-color0);\n  color: var(--jp-ui-font-color1);\n}\n.inner__flexlayout__tabset .flexlayout__tab_button--selected {\n  background-color: var(--jp-layout-color1) !important;\n}\n.inner__flexlayout__tabset .inner__flexlayout__tabset-selected {\n  background-color: var(--jp-layout-color2) !important;\n}\n.inner__flexlayout__tabset .flexlayout__tabset_tabbar_outer {\n  background-color: var(--jp-layout-color2) !important;\n}\n.inner__flexlayout__tabset .inner__flexlayout__tabset {\n  background-color: var(--jp-cell-editor-background) !important;\n}\n.inner__flexlayout__tabset.flexlayout__tabset {\n  background: var(--jp-layout-color0);\n  height: 32px !important;\n}\n.inner__flexlayout__tab {\n  background: var(--jp-layout-color0);\n}\n\n.flexlayout__splitter {\n  background-color: var(--jp-cell-editor-background);\n}\n\n@media (hover: hover) {\n  .flexlayout__splitter:hover {\n    background-color: var(--jp-layout-color2);\n  }\n}\n.flexlayout__splitter_drag {\n  z-index: 1000;\n  background-color: var(--jp-layout-color2);\n}\n\ndiv.inner__flexlayout__tabset > div.flexlayout__tabset_tabbar_outer_top {\n  margin-left: 5px;\n  margin-right: 5px;\n  box-shadow: 0 3px 6px rgb(0 0 0 / 16%), 0 3px 6px rgb(0 0 0 / 23%);\n  border-width: 1px 0px 0px 0px;\n  border-style: solid;\n  border-color: #e2e2e2;\n}\n\nhr.ipyflex-divider {\n  margin: 1px 4px 1px 4px;\n  -webkit-flex-shrink: 0;\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  border-width: 0;\n  border-style: solid;\n  border-color: rgb(0 0 0 / 45%);\n  border-bottom-width: thin;\n  list-style: none;\n}\n\n.ipyflex-input-label-group {\n  position: relative;\n  margin-top: 0.75rem;\n  margin-bottom: 0.75rem;\n}\n\n.ipyflex-float-input {\n  width: 100%;\n}\n\n.ipyflex-float-label {\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 7px 0 0 13px;\n  transition: all 200ms;\n  opacity: 0.75;\n}\n\n.ipyflex-float-input:focus + .ipyflex-float-label,\n.ipyflex-float-input:valid + .ipyflex-float-label {\n  font-size: 75%;\n  transform: translate3d(0, -100%, 0);\n  opacity: 1;\n}\n\n.ipyflex-header {\n  height: 35px;\n  margin-bottom: 5px;\n  box-shadow: rgb(0 0 0 / 20%) 0px 2px 4px -1px,\n    rgb(0 0 0 / 14%) 0px 4px 5px 0px, rgb(0 0 0 / 12%) 0px 1px 10px 0px;\n  padding: 0px 24px;\n  color: white;\n  font-weight: 500;\n  font-size: 1.25rem;\n  line-height: 1.6;\n  letter-spacing: 0.0075em;\n  background-color: #1976d2;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n",""]),e.exports=t},1333:(e,t,n)=>{var o=n(3379),i=n(7811);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},3749:(e,t,n)=>{var o=n(3379),i=n(719);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},7204:(e,t,n)=>{var o=n(3379),i=n(3889);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"ipyflex","version":"0.2.6","description":"Jupyter Widget Flex Layout","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","css/*.css"],"homepage":"https://github.com/ipyflex","bugs":{"url":"https://github.com//ipyflex/issues"},"license":"BSD-3-Clause","author":{"name":"Trung Le","email":"leductrungxf@gmail.com"},"main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/ipyflex"},"scripts":{"build":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension:dev","build:prod":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc","build:nbextension":"webpack","clean":"yarn run clean:lib && yarn run clean:nbextension && yarn run clean:labextension","clean:lib":"rimraf lib","clean:labextension":"rimraf ipyflex/labextension","clean:nbextension":"rimraf ipyflex/nbextension/static/index.js","lint":"eslint . --ext .ts,.tsx --fix","lint:check":"eslint . --ext .ts,.tsx","prepack":"yarn run build:lib","test":"jest","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch --mode=development","watch:labextension":"jupyter labextension watch ."},"dependencies":{"@emotion/react":"^11.4.1","@emotion/styled":"^11.3.0","@jupyter-widgets/base":"^2 || ^3 || ^4 || ^5 || ^6","@jupyterlab/apputils":" ^2.0.0 || ^3.0.0 || ^4.0.0","@mui/material":"^5.0.4","flexlayout-react":"^0.5.20"},"devDependencies":{"@babel/core":"^7.5.0","@babel/preset-env":"^7.5.0","@jupyterlab/builder":"^3.0.0","@phosphor/application":"^1.6.0","@phosphor/widgets":"^1.6.0","@types/jest":"^26.0.0","@types/webpack-env":"^1.13.6","@typescript-eslint/eslint-plugin":"^3.6.0","@typescript-eslint/parser":"^3.6.0","acorn":"^7.2.0","css-loader":"^3.2.0","eslint":"^7.4.0","eslint-config-prettier":"^6.11.0","eslint-plugin-prettier":"^3.1.4","eslint-plugin-react":"^7.26.1","fs-extra":"^7.0.0","identity-obj-proxy":"^3.0.0","jest":"^26.0.0","mkdirp":"^0.5.1","npm-run-all":"^4.1.3","prettier":"^2.0.5","process":"^0.11.10","rimraf":"^2.6.2","source-map-loader":"^1.1.3","style-loader":"^1.0.0","ts-jest":"^26.0.0","ts-loader":"^9.2.6","typescript":"~4.1.3","webpack":"^5.0.0","webpack-cli":"^4.0.0"},"jupyterlab":{"extension":"lib/plugin","outputDir":"ipyflex/labextension/","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true},"react":{"bundled":false,"singleton":true}}}}')}}]);