"use strict";(self.webpackChunkstreamlit_browser=self.webpackChunkstreamlit_browser||[]).push([[187],{60187:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var o,r=n(1413),i=n(29439),a=n(47313),c=n(52129),l=n(26419),d=n(47712);!function(e){e.ASCENDING="ascending",e.DESCENDING="descending"}(o||(o={}));var s,u=n(4942),h=n(47167),f=(0,h.Z)("div",{target:"e10os9ge8"})((function(e){var t=e.width,n=e.theme;return{width:t,border:"1px solid ".concat(n.colors.fadedText05),boxSizing:"content-box","& .table-top-right":{overflow:"hidden !important",paddingRight:"6px"},"& .table-bottom-left":{overflow:"hidden !important",paddingBottom:"6px"},"& .table-bottom-right":{overflow:"overlay !important"},"& .table-bottom-right:focus-visible":{outline:"none"},"& .table-bottom-right:focus":{outline:"none"}}}),""),m=(0,h.Z)("div",{target:"e10os9ge7"})((function(e){var t=e.theme;return{padding:"".concat(t.spacing.twoXS," ").concat(t.spacing.xs),borderBottom:"1px solid ".concat(t.colors.fadedText05),borderRight:"1px solid ".concat(t.colors.fadedText05),fontSize:t.fontSizes.md,fontFamily:t.fonts.sansSerif,lineHeight:t.lineHeights.table,display:"flex",alignItems:"center",justifyContent:"flex-start"}}),""),g=function(e){return{color:e.colors.fadedText60,borderBottom:"1px solid ".concat(e.colors.fadedText05),borderRight:"1px solid ".concat(e.colors.fadedText05),zIndex:1}},w=function(e){return{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",lineHeight:e.lineHeights.table}},v=(0,h.Z)(m,{target:"e10os9ge6"})((function(e){var t=e.theme;return g(t)}),""),x=(0,h.Z)(m,{target:"e10os9ge5"})((function(e){var t=e.theme;return(0,r.Z)((0,r.Z)({userSelect:"none"},g(t)),w(t))}),""),p=(0,h.Z)(m,{target:"e10os9ge4"})((function(e){var t=e.theme;return(0,r.Z)((0,r.Z)({userSelect:"none"},g(t)),w(t))}),""),b=(0,h.Z)(m,{target:"e10os9ge3"})((function(e){var t=e.theme;return w(t)}),""),C=(0,h.Z)("div",{target:"e10os9ge2"})((function(e){var t,n=e.verticalLocator,o=e.horizontalLocator,r=e.width,i=e.height;return t={position:"absolute"},(0,u.Z)(t,n,"0px"),(0,u.Z)(t,o,"0px"),(0,u.Z)(t,"width",r),(0,u.Z)(t,"height",i),t}),""),y=(0,h.Z)("div",{target:"e10os9ge1"})((function(e){var t=e.theme;return{fontFamily:t.fonts.monospace,color:t.colors.fadedText60,fontStyle:"italic",fontSize:t.fontSizes.md,textAlign:"center"}}),""),S=(0,h.Z)("span",{target:"e10os9ge0"})((function(e){return{color:e.theme.colors.fadedText05,verticalAlign:"top"}}),""),N=n(26124),Z=n(72599),I=!("undefined"===typeof window||!window.document||!window.document.createElement);function D(e){if((!s&&0!==s||e)&&I){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),s=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return s}var E=n(52191),R=2*E.CH.smPx,G=function(e,t,n,o){var r=(0,d.kG)(n),i=r.headerRows,a=r.headerCols,c=r.dataRows,l=r.cols,s=r.rows,u=R*i,h=t-2-D(),f=function(e,t,n,o,r,i){var a=25,c=e>2?200:400,l=function(e){for(var n=e.index,r=8*10/10,c=24,l=100,d=a,s=0;s<Math.min(t,l);s++){var u=-1;u=s<o?s:t>l?Math.floor(Math.random()*t):s;var h=i(n,u).contents,f=(h?h.length:0)*r+c;f>d&&(d=f)}return d},d=[],s=Array.from(Array(e),(function(e,t){return l({index:t})})),u=s.reduce((function(e,t){return e+t}),0),h=r-u,f=function(e){return e.filter((function(e){return e>c}))};if(h<0)d=s.map((function(e){return e>c?c:e}));else{var m=f(s),g=h/m.length;d=s.map((function(e,t){return t in m.keys()?e+g:e}))}var w=d.reduce((function(e,t){return e+t}),0);if(w>r*(2/3)&&w<r){var v=(r-w)/e;d=d.map((function(e){return e+v})),w=d.reduce((function(e,t){return e+t}),0)}var x=Math.min(w,r),p=function(e){var t=e.index;return d[t]},b=d.slice(0,n).reduce((function(e,t){return e+t}));return{elementWidth:x,columnWidth:p,headerWidth:b}}(l,s,a,i,h,o),m=f.elementWidth,g=f.columnWidth,w=f.headerWidth;if(0===c&&m<60){m=60,w=60;for(var v=0,x=0;x<l;x++)v+=g({index:x});v<60&&(g=function(){return 60/l})}var p=s*R,b=(e||300)-2;return e=Math.min(p,b),m+=p>b?D():0,{rowHeight:R,headerHeight:u,border:2,columnWidth:g,headerWidth:w,elementWidth:m,height:e}},A={corner:v,"col-header":x,"row-header":p,data:b};var W=n(87462),k=n(59237),z=a.forwardRef((function(e,t){return a.createElement(k.D,(0,W.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 8 8"},e,{ref:t}),a.createElement("path",{d:"M4 1L0 5l1.5 1.5L4 4l2.5 2.5L8 5 4 1z"}))}));z.displayName="ChevronTop";var T=a.forwardRef((function(e,t){return a.createElement(k.D,(0,W.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 8 8"},e,{ref:t}),a.createElement("path",{d:"M1.5 1L0 2.5l4 4 4-4L6.5 1 4 3.5 1.5 1z"}))}));T.displayName="ChevronBottom";var j=n(49089),B=n(46417);function L(e){var t,n,r,i=e.CellType,a=e.columnIndex,c=e.contents,l=e.rowIndex,d=e.sortedByUser,s=e.style,u=e.columnSortDirection,h=e.headerClickedCallback,f=c,m=u===o.DESCENDING;null!=h&&0===l&&(t=function(){return h(a)},n="button",r=0,f=null==u?'Sort by column "'.concat(c,'"'):'Sorted by column "'.concat(c,'" (').concat(m?"descending":"ascending",")"));var g=0===l?function(e){switch(e){case o.ASCENDING:return(0,B.jsx)(S,{"data-testid":"sortIcon",children:(0,B.jsx)(j.ZP,{content:z,size:"xs",margin:"0 0 0 twoXS"})});case o.DESCENDING:return(0,B.jsx)(S,{"data-testid":"sortIcon",children:(0,B.jsx)(j.ZP,{content:T,size:"xs",margin:"0 0 0 twoXS"})});default:return null}}(u):void 0;return(0,B.jsxs)(i,{style:s,onClick:t,role:n,tabIndex:r,title:f,"data-testid":i.displayName,"data-test-sort-direction":u,children:[c,d?g:""]})}var H=(0,l.Z)((function(e){var t=e.element,n=e.height,l=e.width,s=a.useRef(null),u=(0,a.useState)(!1),h=(0,i.Z)(u,2),m=h[0],g=h[1],w=(0,a.useState)(0),v=(0,i.Z)(w,2),x=v[0],p=v[1],b=(0,a.useState)(o.ASCENDING),S=(0,i.Z)(b,2),I=S[0],D=S[1],E=(0,d.oo)(t.get("data")),R=(0,i.Z)(E,2)[1],W=(0,d.kG)(t),k=W.headerRows,z=W.headerCols,T=W.dataRows,j=W.cols,H=W.rows,M=function(e){var t=o.ASCENDING;x===e&&(t=I===o.ASCENDING?o.DESCENDING:o.ASCENDING),p(e),D(t),g(!0)},F=function(e){var n=(0,d.kG)(t),r=n.headerCols,i=n.dataRows,a=I!==o.DESCENDING;if(x<r||x-r>=e){for(var c=new Array(i),l=0;l<i;l+=1)c[l]=a?l:i-(l+1);return c}return(0,d.X_)(t,x-r,a)}(R),V=function(e){var t=e.element,n=e.headerRows,o=e.sortedDataRowIndices;return function(e,r){if(null!=o&&r>=n){var i=r-n;i>=0&&i<o.length?(r=o[i],r+=n):(0,Z.KE)("Bad sortedDataRowIndices ("+"rowIndex=".concat(r,", ")+"headerRows=".concat(n,", ")+"sortedDataRowIndices.length=".concat(o.length))}var a=(0,d.me)(t,e,r),c=a.contents,l=a.styles,s=a.type;return{Component:A[s],styles:l,contents:(0,N.H7)(c)}}}({element:t,headerRows:k,sortedDataRowIndices:F}),X=function(e){return function(t){var n=t.columnIndex,o=t.key,i=t.rowIndex,a=t.style,c=e(n,i),l=c.Component,d=c.styles,s=c.contents,u=0===i?M:void 0,h=n===x?I:void 0,f=i===T,g=n===j-z,w=(0,r.Z)((0,r.Z)((0,r.Z)({},a),d),{},{borderBottom:f?"none":void 0,borderRight:g?"none":void 0});return(0,B.jsx)(L,{CellType:l,columnIndex:n,rowIndex:i,style:w,contents:s,sortedByUser:m,columnSortDirection:h,headerClickedCallback:u},o)}}(V),P=G(n,l,t,V),_=P.rowHeight,U=P.headerHeight,K=P.border,O=P.height,q=P.elementWidth,J=P.columnWidth,Q=P.headerWidth;return setTimeout((function(){null!=s.current&&s.current.recomputeGridSize()}),0),(0,a.useEffect)((function(){x-z>=R&&(p(0),D(o.ASCENDING),g(!1))}),[x,z,R]),(0,B.jsxs)(f,{width:q,className:"stDataFrame",children:[(0,B.jsx)(c.yR,{cellRenderer:X,fixedColumnCount:z,fixedRowCount:k,columnWidth:J,columnCount:j,enableFixedColumnScroll:!1,enableFixedRowScroll:!1,height:O,rowHeight:_,rowCount:H,width:q,classNameBottomLeftGrid:"table-bottom-left",classNameBottomRightGrid:"table-bottom-right",classNameTopRightGrid:"table-top-right",ref:s}),(0,B.jsx)(C,{verticalLocator:"top",horizontalLocator:"right",width:K,height:U}),(0,B.jsx)(C,{verticalLocator:"bottom",horizontalLocator:"left",width:Q,height:K}),0===T?(0,B.jsx)(y,{children:"empty"}):null]})}))}}]);